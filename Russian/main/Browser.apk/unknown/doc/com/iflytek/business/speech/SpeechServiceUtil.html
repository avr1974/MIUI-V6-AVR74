<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Mon Jan 13 14:02:21 CST 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>SpeechServiceUtil</title>
<meta name="date" content="2014-01-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SpeechServiceUtil";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/SpeechServiceUtil.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/iflytek/business/speech/SpeechIntent.html" title="com.iflytek.business.speech中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.ISpeechInitListener.html" title="com.iflytek.business.speech中的接口"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/iflytek/business/speech/SpeechServiceUtil.html" target="_top">框架</a></li>
<li><a href="SpeechServiceUtil.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.iflytek.business.speech</div>
<h2 title="类 SpeechServiceUtil" class="title">类 SpeechServiceUtil</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.iflytek.business.speech.SpeechServiceUtil</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">SpeechServiceUtil</span>
extends java.lang.Object</pre>
<div class="block">语音服务调用封装类<br/>
 提供客户端与语点引擎服务连接、交互、资源共享、状态通知等功能<br/>
 提供整个语音服务的初始化方法以及每个引擎的初始化方法<br/></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>嵌套类概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="嵌套类概要表, 列表嵌套类和解释">
<caption><span>嵌套类</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">类和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.ISpeechInitListener.html" title="com.iflytek.business.speech中的接口">SpeechServiceUtil.ISpeechInitListener</a></strong></code>
<div class="block">与服务绑定回调通知<br/>
 <br/>
  注意：<br/>
     1.客户端组件中预置了断开后自动重新绑定服务的逻辑，OnSpeechUninit只是作为一个通知，做调试使用；<br/>
           2.initRecognitionEngine与initSynthesizerEngine需要在OnSpeechInit()通知后才能调用。</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#SpeechServiceUtil(Context, com.iflytek.business.speech.SpeechServiceUtil.ISpeechInitListener, Intent)">SpeechServiceUtil</a></strong>(Context&nbsp;context,
                 <a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.ISpeechInitListener.html" title="com.iflytek.business.speech中的接口">SpeechServiceUtil.ISpeechInitListener</a>&nbsp;initListener,
                 Intent&nbsp;initIntent)</code>
<div class="block">公有构造函数</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#delUserByName(java.lang.String[])">delUserByName</a></strong>(java.lang.String[]&nbsp;names)</code>
<div class="block">根据用户名列表，删除声纹模型。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#destroy()">destroy</a></strong>()</code>
<div class="block">销毁服务连接</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#endIvp()">endIvp</a></strong>()</code>
<div class="block">结束录音，将自动开始声纹服务。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#endRecognize()">endRecognize</a></strong>()</code>
<div class="block">结束录音，将自动开始识别<br/>       
 当用户停止语音输入，希望得到识别引擎的结果时，调用此方法。</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#getAllUserName()">getAllUserName</a></strong>()</code>
<div class="block">获取已注册的所有声纹用户名</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#initRecognitionEngine(com.iflytek.business.speech.RecognitionListener, Intent)">initRecognitionEngine</a></strong>(<a href="../../../../com/iflytek/business/speech/RecognitionListener.html" title="com.iflytek.business.speech中的接口">RecognitionListener</a>&nbsp;listener,
                     Intent&nbsp;intent)</code>
<div class="block">初始化识别引擎</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#initSpeakerVerifier(com.iflytek.business.speech.VerifierListener, Intent)">initSpeakerVerifier</a></strong>(<a href="../../../../com/iflytek/business/speech/VerifierListener.html" title="com.iflytek.business.speech中的接口">VerifierListener</a>&nbsp;listener,
                   Intent&nbsp;intent)</code>
<div class="block">初始化声纹引擎</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#initSynthesizerEngine(com.iflytek.business.speech.SynthesizerListener, Intent)">initSynthesizerEngine</a></strong>(<a href="../../../../com/iflytek/business/speech/SynthesizerListener.html" title="com.iflytek.business.speech中的接口">SynthesizerListener</a>&nbsp;listener,
                     Intent&nbsp;intent)</code>
<div class="block">初始化合成引擎</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#isSpeaking()">isSpeaking</a></strong>()</code>
<div class="block">语音合成引擎是否正在合成<br/></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#searchText(Intent)">searchText</a></strong>(Intent&nbsp;i)</code>
<div class="block">通过文本获取结果</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#speak(java.lang.String, Intent)">speak</a></strong>(java.lang.String&nbsp;text,
     Intent&nbsp;params)</code>
<div class="block">语音合成引擎开始合成</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#startIvp(Intent)">startIvp</a></strong>(Intent&nbsp;i)</code>
<div class="block">开始声纹服务</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#startRecognize(Intent)">startRecognize</a></strong>(Intent&nbsp;i)</code>
<div class="block">开始录音识别</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#stopIvp()">stopIvp</a></strong>()</code>
<div class="block">停止声纹服务,不返回任何结果</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#stopRecognize()">stopRecognize</a></strong>()</code>
<div class="block">停止当前识别<br/>
 调用此接口后将不会有结果输出。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#stopSpeak()">stopSpeak</a></strong>()</code>
<div class="block">停止合成引擎当前的合成&播放</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.html#updateLexicon(Intent)">updateLexicon</a></strong>(Intent&nbsp;i)</code>
<div class="block">更新词典</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="SpeechServiceUtil(Context, com.iflytek.business.speech.SpeechServiceUtil.ISpeechInitListener, Intent)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SpeechServiceUtil</h4>
<pre>public&nbsp;SpeechServiceUtil(Context&nbsp;context,
                 <a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.ISpeechInitListener.html" title="com.iflytek.business.speech中的接口">SpeechServiceUtil.ISpeechInitListener</a>&nbsp;initListener,
                 Intent&nbsp;initIntent)</pre>
<div class="block">公有构造函数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>context</code> - 上下文</dd><dd><code>initListener</code> - 服务连接/断开通知回调，具体参阅 ISpeechInitListener。</dd><dd><code>initIntent</code> - 服务初始化参数<br/> 
<br/>
        1. SpeechIntent.SERVICE_LOG_ENABLE：控制service的日志开关。<br/> 
        -true打开，<br/>
        -false关闭（默认）。<br/> 
                  <span style="color:#ff0000;">*注：msc的log生成需要先将msc.cfg放在sdcard下面。</span><br/> 
<br/> 
                  2. SpeechIntent.WRITELOG_ENABLE：控制service保存日志开关。<br/> 
                  -true 打开，日志默认保存到sd卡speechDebugLog文件夹下。<br/> 
                  -false关闭 （默认）。<br/></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="startRecognize(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startRecognize</h4>
<pre>public&nbsp;void&nbsp;startRecognize(Intent&nbsp;i)</pre>
<div class="block">开始录音识别</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>intent</code> - 识别参数<br/>
<br/>
              1.  SpeechIntent.EXT_ENGINE_TYPE：         int类型，识别引擎类型。<br/>
               -SpeechIntent.ENGINE_LOCAL本地引擎，<br/>
               -SpeechIntent.ENGINE_WEB网络引擎，默认2个同时开启（即SpeechIntent.ENGINE_LOCAL| SpeechIntent.ENGINE_WEB）。<br/> 
                                 -SpeechIntent.ENGINE_WAKE唤醒引擎，<br/>
                                 -SpeechIntent.ENGINE_IVP声纹引擎，<br/>
<br/>
                                2.      SpeechIntent.EXT_IVW_CM：                int类型，唤醒门限，默认为28（建议设置在30-50）。<br/>
                                 如果此次交互是启动唤醒，则使用此值来设置唤醒引擎的唤醒阈值（值越小，越容易唤醒，也越容易误唤醒）。<br/>
<br/>
                                3.  SpeechIntent.EXT_IVW_AND_IVP:               boolean类型，唤醒+声纹开关，默认false关闭。<br/>
                                唤醒时如果想使用声纹，需将这个参数置为true。        <br/>
<br/>
                                4.  SpeechIntent.IVP_USER_NAME：         String 类型。<br/>
                                声纹用户名，例如：“xiaoming”。<br/>
<br/>
                                5.  SpeechIntent.IVP_RES_ID:            Int类型。<br/>
                                声纹密码对应的id号，：例如0,1,2。<br/>
<br/>
                                6.  SpeechIntent.EXT_SAMPLERATE:                Int类型，录音设备采样率设置。<br/>
                                -8000：  设置为8K录音，进行8K识别；<br/>
                                -16000： 设置为16K录音，进行16K识别。<br/>
<br/>
                                7.  SpeechIntent.EXT_LOCAL_RESULT_SCORE:                Int类型，取值区间为[0,100],默认60。<br/>
                                本地识别引擎结果得分低于此值将结果丢弃。<br/>
<br/>
                                8.  SpeechIntent.EXT_VAD_FRONT_TIME:            Int类型，默认为3000。<br/>
                                VAD前端点时间设置，单位ms。最小1S最大5S，反应超时。<br/>
<br/>           
                        9.  SpeechIntent.EXT_VAD_END_TIME:                Int类型，默认为2000。<br/>
                                VAD后端点时间设置，单位ms。说话间隔时间不能超过1s~60s。<br/>
<br/>           
                10.  SpeechIntent.EXT_VAD_SPEECH_TIME：          Int类型，语音超时时间。<br/>
                                默认20S。<br/>
<br/>           
                11.  SpeechIntent.EXT_SOURCE_PCM：               String类型。<br/>
                                指定此次识别的输入PCM或者WAV文件。一般作测试或者调试使用。<br/>
<br/>           
                12.  SpeechIntent.EXT_PCM_LOG：           boolean类型，默认false。<br/>
                                此次识别语音数据是否保存(保存在/sdcard目录，默认以vad_original_日期_时间.wav形式保存)。<br/>
                                -true：保存。<br/>
                                -false：不保存。<br/>
<br/>   
                13.  SpeechIntent.EXT_DEST_PCM：             String类型。<br/>
                                与SpeechIntent.EXT_PCM_LOG配合使用，可以精确指定输出语音到/sdcard目录上的指定WAV文件（输出文件的形式为/sdcard/SpeechIntent.EXT_DEST_PCM.wav）。<br/>
<br/>           
                14.  SpeechIntent.EXT_LOCAL_SCENE：               String类型。              <br/>           
                                如果开启本地识别，则使用此参数设置本地识别的场景名称。例如"telephone"为打电话场景<br/>
                                *注：本地短信转写场景属于特殊场景，使用预置的SpeechIntent.LOCAL_SMS_DICTATION。<br/>
<br/>           
                15.  SpeechIntent.SESSION_TIMEOUT：              Int类型，默认8000ms（毫秒）。<br/>
                                设置本次交互的最长时间（超时时间）。<br/>
                                *注：录完音后等这些时间必须出来识别结果。<br/>
<br/>           
                16.  SpeechIntent.ADDR_INFO:            AddressInfo类型。<br/>
                                设置当前地理位置信息。本地不设置将使用上一次的设置;service不在外存上保存客户端的地理位置信息,启动时默认为null。<br/>
<br/>                   
                17.  SpeechIntent.EXT_WEB_SCENE：                String类型。<br/>  
                                如果开启网络识别，则使用此参数设置网络识别的场景名称，参阅FocusType 。默认为”all”。<br/>  
<br/>   18.  SpeechIntent.EXT_REC_PARAMS:               String类型。识别需要的额外参数集，包括地理位置信息和时间参数。<br/>
                        &nbsp;通过AddressInfo获取当前经纬度(valong、valat)、城市(vacity)、街道(vastreet)和具体位置pos;<br/>
                        &nbsp;获取当前时间信息，按“YYYY-MM-DD”拼接日期data,按“HH:MM:SS”拼接时间time;<br/>
                        &nbsp;最后拼接完整参数集：<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;param = "valong="+valong+",valat="+valat+",vapos="+pos+",vastreet="+vastreet+",vacity="+vacity+",date="+date+",time="+time;<br/>
<br/></dd><dd><code>*注意事项：<br/></code> - 1.      本地Aitalk的bnf语法描述文件中，只有纯转写的action（wfst）是非法的。<br/>        
                        -2.     需要纯转写的场景使用预置的SpeechIntent.LOCAL_SMS_DICTATION。<br/>     
                -3. <span style="color:#ff0000;">VAD前端点</span>指的是录音设备开启后，发现用户说话的音频数据起始点;<br/>
          -4. <span style="color:#ff0000;">VAD后端点</span>指的是用户停止说话以后，引擎检测出用户已经结束语音输入的终止点。<br/></dd></dl>
</li>
</ul>
<a name="endRecognize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endRecognize</h4>
<pre>public&nbsp;void&nbsp;endRecognize()</pre>
<div class="block">结束录音，将自动开始识别<br/>       
 当用户停止语音输入，希望得到识别引擎的结果时，调用此方法。<br/></div>
</li>
</ul>
<a name="stopRecognize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopRecognize</h4>
<pre>public&nbsp;void&nbsp;stopRecognize()</pre>
<div class="block">停止当前识别<br/>
 调用此接口后将不会有结果输出。<br/></div>
</li>
</ul>
<a name="updateLexicon(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLexicon</h4>
<pre>public&nbsp;void&nbsp;updateLexicon(Intent&nbsp;i)</pre>
<div class="block">更新词典</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>Intent</code> - 更新词典的参数设置<br/>
<br/>   
                1.  SpeechIntent.EXT_ENGINE_TYPE：               需要更新的识别引擎类型，将联系人上传到本地或者云端。<br/>
                        -SpeechIntent.ENGINE_LOCAL本地引擎。<br/>
                        -SpeechIntent.ENGINE_WEB在线引擎。<br/>
                        默认2个同时开启（即SpeechIntent.ENGINE_LOCAL| SpeechIntent.ENGINE_WEB）。<br/>
<br/>           
                2.  SpeechIntent.EXT_LEXICON_NAME：              String类型，词典的名称。<br/>
                        例如"&lt;contact&gt;"。<br/>
<br/>           
                3.  SpeechIntent.EXT_LEXICON_ITEM：              String[]类型，词典的词条。<br/>
<br/>           
                4.  SpeechIntent.EXT_GRAMMARS_NAMES：            String[]类型，需要更新的场景名。<br/>
          例如"telephone"为打电话场景 <br/>
                        注：更新本地引擎词典时需要。<br/>
<br/>           
                5.  SpeechIntent.EXT_LEXICON_FLUSH：             boolean类型，默认true。<br/>
                        -true：SpeechIntent.EXT_GRAMMARS_NAMES指定的所有场景将立刻更新词条。<br/>
                        -false：词条将被暂时缓存起来，等到后续调用updateLexicon 且SpeechIntent.EXT_LEXICON_FLUSH被设置为true时候统一更新。<br/>
<br/>           
                6.  SpeechIntent.EXT_SAMPLERATE：        Int类型，默认16000。<br/>
                        -8000:更新8K词典；<br/>
                        -16000:更新16K词典。<br/>
<br/>           
                7.  SpeechIntent.LOCAL_DICT_SPLIT       boolean 类型,默认false。仅供更新联系人词条使用。<br/>
                        -true: 开启切词引擎；<br/>
                        -false:关闭切词引擎。<br/>
                        <span style="color:#ff0000;">注：该引擎包默认不提供，如有需求，请联系科大讯飞技术支持。</span><br/>
<br/>
                *注意事项：<br/>
                         1.     SpeechIntent.LEXICON_CONTACTS为speechService一个预置的词典，标识联系人词典"&lt;contact&gt;"。在线引擎只接受SpeechIntent.LEXICON_CONTACTS这个词典，其他词典均忽略。<br/>
                         2.     词典必须有尖括号作为标识，如&lt;contact&gt; 而非"book"。<br/>
                         3.     如果有多个词典需要更新，建议最后一次调用updateLexicon时才将SpeechIntent.EXT_LEXICON_FLUSH设置为true（之前的都显示设置为false），可以避免场景被重复更新，节省时间。<br/>
                         4.     如果需要更新两种采样率的词典，请先将识别引擎切换都对应的模式（即先initRecognizeEngine）,否则不能正确更新词典。<br/></dd></dl>
</li>
</ul>
<a name="searchText(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchText</h4>
<pre>public&nbsp;void&nbsp;searchText(Intent&nbsp;i)</pre>
<div class="block">通过文本获取结果</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>Intent</code> - 识别参数<br/>
                        1. SpeechIntent.EXT_SEARCH_TYPE: 场景名称，同识别可设置的场景。例如"telephone"为打电话场景。<br/>
                        2. SpeechIntent.EXT_SEARCH_TEXT：文本内容。<br/>
                        3. SpeechIntent.EXT_REC_PARAMS: 识别需要的额外参数集，包括地理位置信息和时间参数。<br/>
                        &nbsp;通过AddressInfo获取当前经纬度(valong、valat)、城市(vacity)、街道(vastreet)和具体位置pos;<br/>
                        &nbsp;获取当前时间信息，按“YYYY-MM-DD”拼接日期data,按“HH:MM:SS”拼接时间time；
                        &nbsp;最后拼接完整参数集：
                        &nbsp;&nbsp;param = "valong="+valong+",valat="+valat+",vapos="+pos+",vastreet="+vastreet+",vacity="+vacity+",date="+date+",time="+time;</dd></dl>
</li>
</ul>
<a name="speak(java.lang.String, Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>speak</h4>
<pre>public&nbsp;void&nbsp;speak(java.lang.String&nbsp;text,
         Intent&nbsp;params)</pre>
<div class="block">语音合成引擎开始合成</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>text</code> - 待合成文本</dd><dd><code>params</code> - 合成参数<br/>
<br/>    
               1.TextToSpeech. KEY_PARAM_ENGINE_TYPE:           设置引擎类型。<br/>
               -TextToSpeech. TTS_ENGINE_LOCAL: 选择离线合成引擎。<br/>
               -TextToSpeech. TTS_ENGINE_ONLINE:        选择在线合成引擎。<br/>
<br/>     
               2.TextToSpeech. KEY_PARAM_ROLE_CN:       String类型，设置中文发音人。<br/>
               例如："xiaoyan".<br/>
<br/>
               3.TextToSpeech. KEY_PARAM_ROLE_EN:       String类型，设置英文发音人。<br/>
               例如："Catherine".<br/>
<br/>
               4.TextToSpeech. KEY_PARAM_EFFECT:        int类型，设置音效。<br/>
               取值区间为0~7，例如2为回声效果，0为关闭音效功能。<br/>
<br/>
               5.TextToSpeech. KEY_PARAM_SPEED: int类型，设置语速。<br/>
               取值区间为0-10，0为最慢语速，10为最快语速，默认取值5为正常语速。<br/>
<br/>
               6.TextToSpeech. KEY_PARAM_PITCH: int类型，设置语调。<br/>
               取值区间为0-10，0为最低音调，10为最高音调，默认取值5为正常音调。<br/>
<br/>
               7.TextToSpeech. KEY_PARAM_VOLUM: 设置音量。<br/>
               取值区间为0-100，0为最小音量，100为最大音量，默认取值100，音量设置为最大。<br/>
<br/>
               8.TextToSpeech. KEY_PARAM_STREAM:        int 类型。<br/>
               -AudioManager.STREAM_MUSIC ：默认方式。<br/>
               -AudioManager.STREAM_VOICE_CALL ：仅在蓝牙服务状态为BluetoothHeadset.STATE_AUDIO_CONNECTED时使用。<br/>
<br/>
               9.TextToSpeech. KEY_PARAM_MSC_ROLE：      设置MSC发音人。<br/>
               发音人设置可以参考中文发音人、英文发音人设置方法<br/>
<br/>
               10.TextToSpeech. KEY_PARAM_PCM_LOG：      boolean类型，默认false。<br/>
               此次合成语音数据是否保存(保存在/sdcard目录，默认以tts_日期_时间.wav形式保存)。<br/>
               -true：保存。<br/>
               -false：不保存。<br/>
<br/>
               11.TextToSpeech. KEY_PARAM_DEST_LOG：     String类型。<br/>
               与TextToSpeech. KEY_PARAM_PCM_LOG配合使用，可以精确指定输出语音到/sdcard目录上的指定WAV文件（输出文件的形式为/sdcard/TextToSpeech. KEY_PARAM_DEST_LOG.wav）。<br/>
<br/>          *注：<br/>
                                                        1.英文发音人只能朗读英文，中文无法朗读；<br/>
                                                        2.中文发音人只能朗读中文，遇到英文会以单个字母的方式进行朗读<br/>
                                        <span style="color:#ff0000;">具体发音人列表可以参考官方MSC开发指南。</span></dd></dl>
</li>
</ul>
<a name="stopSpeak()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopSpeak</h4>
<pre>public&nbsp;void&nbsp;stopSpeak()</pre>
<div class="block">停止合成引擎当前的合成&播放</div>
</li>
</ul>
<a name="isSpeaking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSpeaking</h4>
<pre>public&nbsp;boolean&nbsp;isSpeaking()</pre>
<div class="block">语音合成引擎是否正在合成<br/></div>
<dl><dt><span class="strong">返回:</span></dt><dd>-true: 正在合成<br/>
        -false: 合成引擎空闲<br/></dd></dl>
</li>
</ul>
<a name="startIvp(Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startIvp</h4>
<pre>public&nbsp;void&nbsp;startIvp(Intent&nbsp;i)</pre>
<div class="block">开始声纹服务</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>i</code> - 传递给声纹引擎的参数<br/>
 
<br/>
                        1. SpeechIntent.EXT_ENGINE_TYPE:        声纹引擎类型。<br/>
                        SpeechIntent.ENGINE_IVP。<br/>
<br/>
                        2. SpeechIntent.IVP_ENROLL_OR_IDENTIFY: Boolean 类型。<br/>
                        本次交互是声纹模型注册还是用户声纹账号确认：<br/>
                        -false是注册，<br/>
                        -true是确认。<br/>
<br/>
                        3. SpeechIntent.IVP_USER_NAME:  String类型。<br/>
                        声纹注册使用的用户名。<br/>
<br/>
                        4. SpeechIntent.EXT_IVP_CNT:    Int类型。<br/>
                        设置声纹注册需要录音的次数。<br/>
<br/>
                        5. SpeechIntent.IVP_RES_ID:     Int类型。<br/>
                        注册时选择的声纹密码对应ID。例如0,1,2，<br/>
<br/>
                        6. SpeechIntent.IVP_CONSISTTHRESHOLD:   Int 类型。<br/>
                        一致性门限设置，用来屏蔽非法的语音指令 。<br/>
          取值区间在（-2~1）*8192；
<br/>
          <span style="color:#ff0000;">*注：声纹注册和确认过程产生的错误码通过VerifierListener.onEnd()给出。</span><br/></dd></dl>
</li>
</ul>
<a name="stopIvp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopIvp</h4>
<pre>public&nbsp;void&nbsp;stopIvp()</pre>
<div class="block">停止声纹服务,不返回任何结果</div>
</li>
</ul>
<a name="endIvp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endIvp</h4>
<pre>public&nbsp;void&nbsp;endIvp()</pre>
<div class="block">结束录音，将自动开始声纹服务。<br/>
 当停止语音输入，希望得到识别引擎的结果时，调用此方法。<br/>
 声纹服务完成后会返回结果回调<br/></div>
</li>
</ul>
<a name="getAllUserName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllUserName</h4>
<pre>public&nbsp;java.lang.String[]&nbsp;getAllUserName()</pre>
<div class="block">获取已注册的所有声纹用户名</div>
<dl><dt><span class="strong">返回:</span></dt><dd>String[] 用户名列表。</dd></dl>
</li>
</ul>
<a name="delUserByName(java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delUserByName</h4>
<pre>public&nbsp;boolean&nbsp;delUserByName(java.lang.String[]&nbsp;names)</pre>
<div class="block">根据用户名列表，删除声纹模型。</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>String[]</code> - 用户名列表。</dd>
<dt><span class="strong">返回:</span></dt><dd>true 删除成功；<br/>
 false 删除失败。<br/></dd></dl>
</li>
</ul>
<a name="initSynthesizerEngine(com.iflytek.business.speech.SynthesizerListener, Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initSynthesizerEngine</h4>
<pre>public&nbsp;void&nbsp;initSynthesizerEngine(<a href="../../../../com/iflytek/business/speech/SynthesizerListener.html" title="com.iflytek.business.speech中的接口">SynthesizerListener</a>&nbsp;listener,
                         Intent&nbsp;intent)</pre>
<div class="block">初始化合成引擎</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - 合成接口通知回调，后续服务通过此回调与客户端进行交互.<br/>
                参阅SynthesizerListener；</dd><dd><code>intent</code> - 识别引擎初始化参数<br/>
                <br/>
                        1.  SpeechIntent.ARG_RES_TYPE：  标识合成引擎资源文件的来源。<br/>
                        -SpeechIntent. RES_FROM_ASSETS：默认取值。表示使用语音服务自带的资源文件。<br/>
                        -SpeechIntent. RES_FROM_CLIENT：表示资源存放在客户端的asset目录。<br/>
                        -SpeechIntent. RES_SPECIFIED：表示资源文件存放在直接使用路径，同时有权限可以直接读取的目录（例如SD卡上）。    <br/></dd></dl>
</li>
</ul>
<a name="initRecognitionEngine(com.iflytek.business.speech.RecognitionListener, Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initRecognitionEngine</h4>
<pre>public&nbsp;void&nbsp;initRecognitionEngine(<a href="../../../../com/iflytek/business/speech/RecognitionListener.html" title="com.iflytek.business.speech中的接口">RecognitionListener</a>&nbsp;listener,
                         Intent&nbsp;intent)</pre>
<div class="block">初始化识别引擎</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - 识别回调，参阅RecognitionListener。</dd><dd><code>intent</code> - 识别引擎初始化参数<br/>
                <span style="color:#ff0000;">*注： 识别与唤醒初始化所用的参数，需要以Bundle的形式进行封装</span><br/>
<br/>                   
     1.  SpeechIntent.ENGINE_WAKE_DEC,标识此Bundle为唤醒引擎初始化参数。<br/>
<br/>           
     2.  SpeechIntent.ENGINE_LOCAL_DEC,标识此Bundle为识别引擎初始化参数。     <br/>           
<br/>           
     3.  SpeechIntent.ENGINE_IVP_DEC,标识此Bundle为声纹引擎初始化参数。<br/>
<br/>
<br/>
           Bundle对象可以传递给引擎的参数如下：<br/>
     a.  SpeechIntent.ARG_RES_TYPE      标识语法资源的类型：<br/>
          -SpeechIntent. RES_FROM_ASSETS：默认取值。表示使用语音服务自带的语法。<br/>
          -SpeechIntent.RES_FROM_CLIENT： 表示语法资源存放与客户端asset目录。<br/>
          -SpeechIntent. RES_SPECIFIED：表示语法存放在直接使用路径可以直接读取的目录（例如SD卡上）。<br/>
<br/>
     b.  SpeechIntent.EXT_GRAMMARS_FILES        String[]类型，语法资源文件的路径。<br/>
<br/>
     c.  SpeechIntent.EXT_GRAMMARS_FLUSH        boolean类型，默认false。<br/>
          -true：强制重新构建语法。<br/>
          -false：默认取值。如果客户端没有构建过语法则构建，已构建过则不再构建。<br/>
<br/>
     d.  SpeechIntent.EXT_SAMPLERATE    Int类型，识别引擎采样率设置，只支持2种采样率。<br/>
          -16000：16K识别引擎；<br/>
          -8000： 8K识别引擎。 <br/>
<br/> 
     e.  SpeechIntent.EXT_DENOISE_ENABLE        boolean 类型，本地识别引擎降噪开关；     <br/>
          -true： 开启降噪;<br/>
          -false： 不开启降噪;<br/></dd></dl>
</li>
</ul>
<a name="initSpeakerVerifier(com.iflytek.business.speech.VerifierListener, Intent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initSpeakerVerifier</h4>
<pre>public&nbsp;void&nbsp;initSpeakerVerifier(<a href="../../../../com/iflytek/business/speech/VerifierListener.html" title="com.iflytek.business.speech中的接口">VerifierListener</a>&nbsp;listener,
                       Intent&nbsp;intent)</pre>
<div class="block">初始化声纹引擎</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - 声纹接口通知回调，后续服务通过此回调与客户端进行交互<br/>
                                        参阅VerifierListener</dd><dd><code>intent</code> - 初始化声纹引擎的参数<br/>
                  <span style="color:#ff0000;">*注：声纹引擎初始化所用的参数，需要以Bundle的形式进行封装</span><br/>
<br/>
                                1. SpeechIntent.ENGINE_IVP_DEC,标识此bundle为声纹引擎初始化参数。     <br/>
<br/>
              Bundle对象可以传递给引擎的参数如下：<br/>
                                a. SpeechIntent.ARG_RES_TYPE：   标识语法资源的类型。<br/>
                                -SpeechIntent. RES_FROM_ASSETS：默认取值。表示使用语音服务自带的语法。<br/>
                                -SpeechIntent.RES_FROM_CLIENT：表示语法资源存放与客户端asset目录。<br/>
                                -peechIntent. RES_SPECIFIED：表示语法存放在直接使用路径可以直接读取的目录（例如SD卡上）。 <br/></dd></dl>
</li>
</ul>
<a name="destroy()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>destroy</h4>
<pre>public&nbsp;void&nbsp;destroy()</pre>
<div class="block">销毁服务连接</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="class-use/SpeechServiceUtil.html">使用</a></li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../../index-files/index-1.html">索引</a></li>
<li><a href="../../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/iflytek/business/speech/SpeechIntent.html" title="com.iflytek.business.speech中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../../com/iflytek/business/speech/SpeechServiceUtil.ISpeechInitListener.html" title="com.iflytek.business.speech中的接口"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/iflytek/business/speech/SpeechServiceUtil.html" target="_top">框架</a></li>
<li><a href="SpeechServiceUtil.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li><a href="#nested_class_summary">嵌套</a>&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
